---
title: "Hepatectomy"
author: "Oscar J. Ponce & Eddy Lincango"
date: "18/11/2020"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(dpi=900)
knitr::opts_chunk$set(dev='svg')

library(webshot)
library(metafor)
library(tidyverse)
library(rmarkdown)
library(magrittr)
library(grid)
library(gt)
library(forestplot)
library(glue)
library(Gmisc)
library(Matrix)

```

```{r functions_md_rr, echo=FALSE, message=FALSE, warning=FALSE}
md <- function(database){
  
  db <- database
  db <- escalc(measure="MD", 
               m1i=mean_post1, m2i = mean_post2, 
               sd1i  = sd_post1, sd2i = sd_post2, 
               n1i = n1, n2i= n2, data=database)
  db$vi <- ifelse(is.na(db$vi), 
               ((db$mdul_post-db$mdll_post)/((2*abs(qt(0.05/2, db$total-1)))^2)), db$vi)
  db <- db[order(db$yi),]
  db <- summary(db)
  
  db$md <- paste(formatC(db$yi, format='f', digits =1)," ",
                 "(",formatC(db$ci.lb, format='f', digits =1),
                 ",",formatC(db$ci.ub, format='f', digits=1),")") 
  db$postmean1 <- paste(formatC(db$mean_post1, format='f', digits=1),'(', formatC(db$sd_post1, format='f', digits=1),')')
  db$postmean2 <- paste(formatC(db$mean_post2, format='f', digits=1),'(', formatC(db$sd_post2, format='f', digits=1),')')
  
  ma <- rma(yi, vi, measure='MD', data=db, method='REML')
  
  db$w <- paste(formatC(weights(ma), format='f', digits = 1),'%')
  db$weights <- weights(ma)
  
  list(pre = db, ma = ma)
}


table_md <- function(analysis, nstudies, int, comp, outcome, col, 
                     follow=FALSE){
   ifelse(nstudies>1,
        (b <- cbind( 
          c("Author", analysis$pre$author, 
            paste("Overall Mean Difference for", analysis$ma$k, "studies","\n", 
                  "(Tau^2 = ", (formatC(analysis$ma$tau2, digits=2, format="f")), ", df = ", 
                  (analysis$ma$k - analysis$ma$p),
                  ", p ", (ifelse(analysis$ma$QEp < 0.001, 
                                  paste("< 0.001"),
                                  paste("= ", formatC(analysis$ma$QEp, digits=3, format="f")))),
                  "; ", "I^2", " = ", (formatC(analysis$ma$I2, digits=1, format="f")), "%)")),
        c(paste(int), analysis$pre$n1, sum(analysis$pre$n1)),
        c(paste(outcome, '\n', col), analysis$pre$postmean1, NA),
        c(paste(comp), analysis$pre$n2,sum(analysis$pre$n2)),
        c(paste(outcome, '\n', col), analysis$pre$postmean2, NA),
        c("Mean Difference (95% CI)", analysis$pre$md, 
            paste(formatC(analysis$ma$b, format='f', digits =1), 
                  " (",formatC(analysis$ma$ci.lb, format='f', digits=1),
                  ",", formatC(analysis$ma$ci.ub, format='f', digits=1), ")")),
        c("Weight (%)", analysis$pre$w, NA))),
        (b <- cbind( 
        c("Author", analysis$pre$author),
        c(paste(int), analysis$pre$n1),
        c(paste(outcome,'\n', col), analysis$pre$postmean1),
        c(paste(comp), analysis$pre$n2),
        c(paste(outcome, '\n',col), analysis$pre$postmean2),
        c("Mean Difference (95% CI)", analysis$pre$md))))

  ifelse(follow==TRUE, 
          b <- cbind(b, c(paste('Follow-up'), analysis$pre$followup, NA)), NA)
  ifelse(follow==TRUE,
          b <- b[,c(1,ncol(b),2:(ncol(b)-1))], NA)
  
  
  b <- as_tibble(b) 
  b <- b %>% add_row(.before = 2)
  b <- b %>% add_row(.before = 2)
  b <- b %>% add_row(.after = nrow(b))
  
  ifelse(nstudies>1, b <- b %>% add_row(.before = nrow(b)-1), NA)

  
  ifelse(nstudies > 1,
        (c <- structure(list(
          mean = c(rep(NA, 3), analysis$pre$yi, NA, analysis$ma$b,NA),
          lower = c(rep(NA, 3), analysis$pre$ci.lb, NA, analysis$ma$ci.lb, NA),
          upper = c(rep(NA, 3), analysis$pre$ci.ub, NA, analysis$ma$ci.ub, NA)),
          .Names = c("mean", "lower", "upper"),
          row.names = c(NA, -1L*nrow(b)),
          class = "data.frame")),
        (c <- structure(list(
          mean = c(rep(NA, 3), analysis$pre$yi, NA),
          lower = c(rep(NA, 3), analysis$pre$ci.lb, NA),
          upper = c(rep(NA, 3), analysis$pre$ci.ub, NA)),
          .Names = c("mean", "lower", "upper"),
          row.names = c(NA, -1L*nrow(b)),
          class = "data.frame")))

  c <- as_tibble(c)
  
  list(b = b, c = c)
} 




plotmd_single_studies <- function(words, numbers,  
                                  xtick, sizes, bolding, aligning, fpPosition) {

  (forestplot(words,
             graph.pos = fpPosition,
             zero = 0,
             numbers,
             new_page = TRUE,
             colgap = unit(5, "mm"),
             hrzl_lines = list('3' = gpar (lwd=1, columns=c(1:(ncol(words)+1)), col="black")),
             lineheight=unit(0.7,'cm'),
             boxsize = sizes,
             line.margin = 2,
             is.summary = bolding,
             align = aligning,
             ci.vertices = TRUE,
             txt_gp = fpTxtGp(label =gpar (cex=0.9), 
                              ticks = gpar(cex = 0.9, fontface="bold"),
                              summary = gpar(cex = 0.9),
                              xlab = gpar(cex=0.9)),
             xticks = xtick,
             xlog=FALSE,
             clip = c(0,1),
             grid = xtick,
             lwd.xaxis = 1,
             lwd.ci = 2.2,
             lwd.zero = 1.5,
             graphwidth = unit(10,"cm"),
             col=fpColors(box="black",line="grey", zero = 'dodgerblue4', axes="grey20", summary="black")))
 
}




rr <- function(database){
  db <- database
  db <- escalc(measure="RR", ai=e1, ci=e2, n1i=n1, n2i=n2,data=database)
  db <- db[order(db$yi),]
  db <- summary(db)
  
  db$est <-  exp(db$yi)
  db$ci.lb <- exp(db$ci.lb)
  db$ci.ub <- exp(db$ci.ub)
  
  
  db$rate1 <- paste(db$e1,"/",db$n1)
  db$rate2 <- paste(db$e2,"/",db$n2)
  db$rr <- paste(formatC(db$est, format='f', digits =2)," ",
                 "(",formatC(db$ci.lb, format='f', digits =2),
                 "-",formatC(db$ci.ub, format='f', digits=2),")")  
  
  ma <- rma(db$yi, db$vi, measure='RR', data=db, method='REML')
  exp <- predict(ma, transf = transf.exp.int)
  
  db$weights <- weights(ma)
  db$w <- paste(formatC(db$weights, format='f', digits = 1),'%')
  
  
  list(pre = db, ma = ma, exp = exp)
}



table_rr <- function(analysis, int, comp, outcome, nstudies){
  ifelse(nstudies>1,
  b <- cbind( 
    c("Author", analysis$pre$author, 
      paste("Overall Relative Risk for", analysis$ma$k, "studies","\n", 
            "(Tau^2 = ", (formatC(analysis$ma$tau2, digits=2, format="f")), ", df = ", 
            (analysis$ma$k - analysis$ma$p),
            ", p ", (ifelse(analysis$ma$QEp < 0.001, 
                            paste("< 0.001"),
                            paste("= ", formatC(analysis$ma$QEp, digits=3, format="f")))),
            "; ", "I^2", " = ", (formatC(analysis$ma$I2, digits=1, format="f")), "%)")),
    c(paste(int, '\n', outcome,'/','total n'),analysis$pre$rate1, paste(sum(analysis$pre$e1), " / ",
                                                      sum(analysis$pre$n1))),
    c(paste(comp, '\n', outcome,'/', 'total n'),analysis$pre$rate2, paste(sum(analysis$pre$e2), " / ",
                                                        sum(analysis$pre$n2))),
    c("Relative Risk (95% CI)", analysis$pre$rr, 
      paste(formatC(analysis$exp$pred, format='f', digits =2), 
            " (",formatC(analysis$exp$ci.lb, format='f', digits=2),
            "-", formatC(analysis$exp$ci.ub, format='f', digits=2), ")")),
    c("Weight(%)", paste(formatC(weights(analysis$ma), format='f', digits = 1),'%'), NA)),
       b <- cbind( 
        c("Author", analysis$pre$author),
        c(paste(int, '\n', outcome,'/','total n'),analysis$pre$rate1),
        c(paste(comp, '\n', outcome,'/', 'total n'),analysis$pre$rate2),
        c("Relative Risk (95% CI)", analysis$pre$rr)))
  
  b <- as_tibble(b, .name_repair = "unique")
  b <- b %>% add_row(.before = 2)
  b <- b %>% add_row(.before = 2)
  b <- b %>% add_row(.after = nrow(b))  
  
  ifelse(nstudies>1, b <- b %>% add_row(.before = nrow(b)-1), NA)

  
  ifelse(nstudies > 1,
        (c <- structure(list(
          mean = c(rep(NA, 3), analysis$pre$est, NA, analysis$exp$pred,NA),
          lower = c(rep(NA, 3), analysis$pre$ci.lb, NA, analysis$exp$ci.lb, NA),
          upper = c(rep(NA, 3), analysis$pre$ci.ub, NA, analysis$exp$ci.ub, NA)),
          .Names = c("mean", "lower", "upper"),
          row.names = c(NA, -1L*nrow(b)),
          class = "data.frame")),
        (c <- structure(list(
          mean = c(rep(NA, 3), analysis$pre$est, NA),
          lower = c(rep(NA, 3), analysis$pre$ci.lb, NA),
          upper = c(rep(NA, 3), analysis$pre$ci.ub, NA)),
          .Names = c("mean", "lower", "upper"),
          row.names = c(NA, -1L*nrow(b)),
          class = "data.frame")))

  c <- as_tibble(c)
  
  list(b = b, c = c)
} 
  

plotrr_single_studies <- function(words, numbers, xtick, sizes, 
                                  bolding, aligning, fpPosition){
  
  forestplot(words,
             graph.pos = fpPosition,
             zero = 1,
             numbers,
             new_page = TRUE,
             colgap = unit(5, "mm"),
             hrzl_lines = list("3" = gpar (lwd=1, columns=c(1:(ncol(words)+1)), col="black")),
             lineheight=unit(0.7,'cm'),
             boxsize = sizes,
             line.margin = 2,
             is.summary = bolding,
             align = aligning,
             ci.vertices = TRUE,
             txt_gp = fpTxtGp(label =gpar (cex=0.9), 
                              ticks = gpar(cex = 0.9, fontface="bold"),
                              summary = gpar(cex = 0.9),
                              xlab = gpar(cex=0.9)),
             xticks = xtick,
             xlog=TRUE,
             clip = c(0.2, 32),
             grid = xtick,
             lwd.xaxis = 1,
             lwd.ci = 2.2,
             lwd.zero = 2,
             graphwidth = unit(10,"cm"),
             col=fpColors(box="black",line="grey", zero = 'dodgerblue4', axes="grey20", summary="black"))
  
  
}  
```




```{r analysis_continuous_donor1, echo=FALSE, message=FALSE, warning=FALSE}
h <- read.csv("6 Extracted Data/outcome_continuous_donor.csv")


h1<-h[!(h$analysis=='no'),]

names(h1)[6] <- "outcome"
names(h1)[8] <- "followup"
names(h1)[11] <- 'n1'
names(h1)[12] <- 'n2'
names(h1)[13] <- 'mean_post1'
names(h1)[14] <- 'sd_post1'
names(h1)[15] <- 'mean_post2'
names(h1)[16] <- 'sd_post2'

h1[11:16] <- sapply(h1[11:16],as.numeric)

h1$outcome[h1$outcome == 'Estimated blodd loss'] <- 'blood loss'
h1$outcome[h1$outcome == 'Estimated blood loss'] <- 'blood loss'

h1$intervention[h1$intervention == 'RlDRH'] <- 'RLDRH'

h1$author <- 
  ifelse(h1$refid==9, paste("Rho et al., 2020"),
  ifelse(h1$refid==27, paste("Broering et al., 2020"),
  ifelse(h1$refid==5, paste("Binoj et al., 2020"),
  ifelse(h1$refid==172, paste("Chen et al., 2016"),
  ifelse(h1$refid==74, paste("Cheah et al., 2019"),
  ifelse(h1$refid==239, paste("Martucci et al., 2013"),
  ifelse(h1$refid==277, paste("Giulianotti et al., 2011"), NA)))))))


#Total operative time (min) RLDRH vs LADRH
surt <- subset(h1, outcome=='Total operative time')
surt1 <- subset(surt, comparison=='LADRH')
surt1_md <- md(surt1)
tsurt1 <- table_md(analysis = surt1_md, nstudies = 1, 
                    int = "RLDRH (n)", comp = "LADRH (n)",
                    outcome = 'Total operative time (min)', col = 'Mean (SD)', 
                    follow = FALSE)

#Total operative time (min) RLDRH vs ODRH
surt2 <- subset(surt, comparison=='ODRH')
surt2_md <- md(surt2)
tsurt2 <- table_md(analysis = surt2_md, nstudies = 3, 
                    int = "RLDRH (n)", comp = "ODRH (n)",
                    outcome = 'Total operative time (min)', col = 'Mean (SD)', 
                    follow = FALSE)

#Blood loss (ml) RLDRH vs LADRH
blood <- subset(h1, outcome=='blood loss')
blood1 <- subset(blood, comparison=='LADRH')
blood1_md <- md(blood1)
tblood1 <- table_md(analysis = blood1_md, nstudies = 1, 
                    int = "RLDRH (n)", comp = "LADRH (n)",
                    outcome = 'Blood loss (mL)', col = 'Mean (SD)',
                    follow = FALSE)

#Blood loss (ml) RLDRH vs ODRH
blood2 <- subset(blood, comparison=='ODRH')
blood2_md <- md(blood2)
tblood2 <- table_md(analysis = blood2_md, nstudies = 4, 
                    int = "ODRH (n)", comp = "LADRH (n)",
                    outcome = 'Blood Loss (mL)', col = 'Mean (SD)', 
                    follow = FALSE)
#ALT RLDRH vs LADRH
alt <- subset(h1, outcome=='Peak ALT level')
alt1 <- subset(alt, comparison=='LADRH')
alt1_md <- md(alt1)
talt1 <- table_md(analysis = alt1_md, nstudies = 1, 
                  int = "RLDRH (n)", comp = "LADRH (n)",
                  outcome = 'Peak ALT Level (IU/L)', col = 'Mean (SD)', 
                  follow = FALSE)
#ALT RLDRH vs ODRH
alt2 <- subset(alt, comparison=='ODRH')
alt2_md <- md(alt2)
talt2 <- table_md(analysis = alt2_md, nstudies = 3, 
                  int = "RLDRH (n)", comp = "ODRH (n)",
                  outcome = 'Peak ALT Level (IU/L)', col = 'Mean (SD)', 
                  follow = FALSE)
#AST RLDRH vs LADRH
ast <- subset(h1, outcome=='Peak AST level')
ast1 <- subset(ast, comparison=='LADRH')
ast1_md <- md(ast1)
tast1 <- table_md(analysis = ast1_md, nstudies = 1, 
                    int = "RLDRH (n)", comp = "LADRH (n)",
                    outcome = 'Peak AST Level (IU/L)', col = 'Mean (SD)', 
                    follow = FALSE)
#AST RLDRH vs ODRH
ast2 <- subset(ast, comparison=='ODRH')
ast2_md <- md(ast2)
tast2 <- table_md(analysis = ast2_md, nstudies = 3, 
                    int = "RLDRH (n)", comp = "ODRH (n)",
                    outcome = 'Peak AST Level (IU/L)', col = 'Mean (SD)', 
                    follow = FALSE)






```


```{r analysis_continuous_recipient1, echo=FALSE, message=FALSE, warning=FALSE}
e <- read.csv("6 Extracted Data/outcome_continuous_recipient.csv")
e <- e[c(1:9),]
e2 <- e[!is.na(e$comparison),]

names(e2)[10] <- 'n1'
names(e2)[11] <- 'n2'
names(e2)[12] <- 'mean_post1'
names(e2)[13] <- 'sd_post1'
names(e2)[14] <- 'mean_post2'
names(e2)[15] <- 'sd_post2'

e2$outcome[e2$outcome == 'Peak ASL level'] <- 'Peak ALT level'


e2[,c(12:15)] <- lapply(e2[,c(12:15)], as.numeric)


e2$author <- 
  ifelse(e2$refid==9, paste("Rho et al., 2020"),
  ifelse(e2$refid==27, paste("Broering et al., 2020"),
  ifelse(e2$refid==5, paste("Binoj et al., 2020"),
  ifelse(e2$refid==172, paste("Chen et al., 2016"),
  ifelse(e2$refid==74, paste("Cheah et al., 2019"),
  ifelse(e2$refid==239, paste("Martucci et al., 2013"),
  ifelse(e2$refid==277, paste("Giulianotti et al., 2011"), NA)))))))

#Blood loss (ml) RLDRH vs ODRH
blood3 <- subset(e2, comparison=='ODRH' & outcome=='Estimated blood loss')
blood3_md <- md(blood3)
tblood3 <- table_md(analysis = blood3_md, nstudies = 1, 
                    int = "RLDRH (n)", comp = "ODRH (n)",
                    outcome = 'Blood loss (mL)', col = 'Mean (SD)', 
                    follow = FALSE)

#ALT RLDRH vs ODRH
alt3 <- subset(e2, comparison=='ODRH' & outcome=='Peak ALT level')
alt3_md <- md(alt3)
talt3 <- table_md(analysis = alt3_md, nstudies = 1, 
                    int = "RLDRH (n)", comp = "ODRH (n)",
                    outcome = 'ALT (IU/L)', col = 'Mean (SD)', 
                    follow = FALSE)


```



## Figure 2: Continuous Outcomes Part 1
```{r overall_continuous_donor1, fig.height=9.5, fig.width=13.5, echo=FALSE, message=FALSE, warning=FALSE}

a1 <- c('Outcome', 'N of studies', 
       'Amr1 (n)', 'Arm2 (n)', 
       'I2', 
       paste0('Mean Difference (MD)','\n','95%CI'), 
       paste0('Figure with','\n', 'Detailed Information'))

head1 <- c('Donor patients', rep(NA, 6))

b <- c('A. Mean total operative time (min)', rep(NA, 6))
c <- c(paste0(surt1$intervention, ' vs ', surt1$comparison), surt1_md$ma$k, 
       sum(surt1$n1), sum(surt1$n2), 'NA', tsurt1$b[[4,6]], 
       'Suppl Fig #1')
d <- c(paste0(unique(surt2$intervention), ' vs ', unique(surt2$comparison)), surt2_md$ma$k, 
       sum(surt2$n1), sum(surt2$n2), 
       ifelse(surt2_md$ma$k == 1, paste('NA'), paste0(formatC(surt2_md$ma$I2, format='f', digits=0), '%')),
       tsurt2$b[[9,6]], 
       'Suppl Fig #2')


e <- c('B. Mean blood loss (mL)', rep(NA, 6))
f <- c(paste0(unique(blood1$intervention), ' vs ', unique(blood1$comparison)), blood1_md$ma$k, 
       sum(blood1$n1), sum(blood1$n2), 'NA', tblood1$b[[4,6]], 
       'Suppl Fig #3')
g <- c(paste0(unique(blood2$intervention), ' vs ', unique(blood2$comparison)), blood2_md$ma$k, 
       sum(blood2$n1), sum(blood2$n2), 
       ifelse(blood2_md$ma$k == 1, paste('NA'), paste0(formatC(blood2_md$ma$I2, format='f', digits=0),'%')),
       tblood2$b[[9,6]], 
       'Suppl Fig #4')



h <- c('C. Mean peak ALT levels (UI/L)', rep(NA, 6))
i <- c(paste0(unique(alt1$intervention), ' vs ', unique(alt1$comparison)), alt1_md$ma$k, 
       sum(alt1$n1), sum(alt1$n2), 
       ifelse(alt1_md$ma$k == 1, paste('NA'), paste0(formatC(alt1_md$ma$I2, format='f', digits=0),'%')),
       talt1$b[[4,6]], 
       'Suppl Fig #5')
j <- c(paste0(unique(alt2$intervention), ' vs ', unique(alt2$comparison)), alt2_md$ma$k, 
       sum(alt2$n1), sum(alt2$n2), 
       ifelse(alt2_md$ma$k == 1, paste('NA'), paste0(formatC(alt2_md$ma$I2, format='f',                digits=0),'%')),
       talt2$b[[8,6]], 
       'Suppl Fig #6')

k <- c('D. Mean peak AST levels (UI/L)', rep(NA, 6))
l <- c(paste0(unique(ast1$intervention), ' vs ', unique(ast1$comparison)), ast1_md$ma$k, 
       sum(ast1$n1), sum(ast1$n2), 
       ifelse(ast1_md$ma$k == 1, paste('NA'), paste0(formatC(ast1_md$ma$I2, format='f', digits=0),'%')),
       tast1$b[[4,6]], 
       'Suppl Fig #7')
m <- c(paste0(unique(ast2$intervention), ' vs ', unique(ast2$comparison)), ast2_md$ma$k, 
       sum(ast2$n1), sum(ast2$n2), 
       ifelse(ast2_md$ma$k == 1, paste('NA'), paste0(formatC(ast2_md$ma$I2, format='f',                digits=0),'%')),
       tast2$b[[8,6]], 
       'Suppl Fig #8')



head2 <- c('Recipient patients', rep(NA, 6))



n <- c('E. Mean blood loss (mL)', rep(NA, 6))
o <- c(paste0(unique(blood3$intervention), ' vs ', unique(blood3$comparison)), blood3_md$ma$k, 
       sum(blood3$n1), sum(blood3$n2), 'NA', tblood3$b[[4,6]], 
       'Suppl Fig #9')


p <- c('F. Mean peak ALT levels (UI/L)', rep(NA, 6))
q <- c(paste0(unique(alt3$intervention), ' vs ', unique(alt3$comparison)), alt3_md$ma$k, 
       sum(alt3$n1), sum(alt3$n2), 
       ifelse(alt3_md$ma$k == 1, paste('NA'), paste0(formatC(alt3_md$ma$I2, format='f', digits=0),'%')),
       talt3$b[[4,6]], 
       'Suppl Fig #10')



overall1 <- rbind(a1, NA, NA,
                  head1, NA, b,c,d, NA, e,f,g, NA, h,i,j, NA, k,l,m, NA, NA,
                  head2, NA, n,o, NA, p,q, NA)
overall1 <- as.data.frame(overall1)

rownames(overall1) <- NULL

sub1 <- c(7,8,11,12,15,16, 19,20, 26, 29) 
overall1[,1][sub1] <- paste("       ",overall1[,1][sub1])

sub2 <- c(6,10,14,18,25,28) 
overall1[,1][sub2] <- paste("   ",overall1[,1][sub2])



toverall1 <- rbind(NA, NA, NA, NA, NA, NA, tsurt1$c[4,], tsurt2$c[9,],
                  NA, NA, tblood1$c[4,], tblood2$c[9,],
                  NA, NA, talt1$c[4,], talt2$c[8,],
                  NA, NA, tast1$c[4,], tast2$c[8,], 
                  NA, NA, NA, NA, NA, tblood3$c[4,], 
                  NA, NA,  talt3$c[4,], NA)


toverall1 <- structure(list(
          mean = c(toverall1$mean),
          lower = c(toverall1$lower),
          upper = c(toverall1$upper)),
          .Names = c("mean", "lower", "upper"),
          row.names = c(NA, (-1L*nrow(toverall1))),
          class = "data.frame")


plot1 <- forestplot(overall1,
             graph.pos = 6,
             zero = 0,
             toverall1,
             new_page = TRUE,
             colgap = unit(5, "mm"),
             hrzl_lines = list("3" = gpar (lwd=1, columns=c(1:8), col="black")),
             lineheight=unit(0.7,'cm'),
             boxsize = 0.5,
             line.margin = 2,
             is.summary = c(T, rep(F,2), T, F, T, rep(F,3), T, rep(F,3), T, rep(F,3), T, rep(F,3), 
                            F, T, F, T, rep(F,2), T, rep(F,2)),
             align = c('l', rep('c',4), 'l'),
             ci.vertices = TRUE,
             txt_gp = fpTxtGp(label =gpar (cex=0.9), 
                              ticks = gpar(cex = 0.9, fontface="bold"),
                              summary = gpar(cex = 0.9),
                              xlab = gpar(cex=0.9)),
             xticks = c(-250, -100, 0, 100, 250, 500, 750),
             xlog=FALSE,
             clip = c(-250, 750),
             grid = c(-250, -100, 0, 100, 250, 500, 750),
             lwd.xaxis = 1,
             lwd.ci = 2.2,
             lwd.zero = 2,
             graphwidth = unit(10,"cm"),
             col=fpColors(box="black",line="grey", zero = 'dodgerblue4', axes="grey20", summary="black"))


```


**Supplementary information for figure 1**

<details><summary>Suppl. figure 1: Mean total operative time (min) after RLDRH vs LADRH</summary>

```{r operativetime1, fig.height=3, fig.width=14, echo=FALSE, message=FALSE, warning=FALSE}
plot <- plotmd_single_studies(words = tsurt1$b,
                      numbers = tsurt1$c,
                      fpPosition = ncol(tsurt1$b),
                      xtick = c(250, 150, 50, 0, -50, -150, -250),
                      sizes = c(rep(NA,3), 1, NA),
                      bolding = c(T, rep(F, 2), T, F),
                      aligning = c('l', rep('c', 4), 'l'))
```
</details>

<details><summary>Suppl. figure 2: Mean total operative time (min) after RLDRH vs ODRH</summary>

```{r operativetime2, fig.height=3, fig.width=17, echo=FALSE, message=FALSE, warning=FALSE}
plot <- plotmd_single_studies(words = tsurt2$b,
                      numbers = tsurt2$c,
                      fpPosition = ncol(tsurt2$b)-1,
                      xtick = c(-150, -50, 0, 50, 150, 250, 350),
                      sizes = c(rep(NA,3), 0.02*(surt2_md$pre$weights),NA, 1, NA),
                      bolding = c(T, rep(F, 7), T, F),
                      aligning = c('l', rep('c', 4), 'l', 'l'))

```
</details>

<details><summary>Suppl. figure 3: Mean blood loss (mL) after RLDRH vs LADRH</summary> 
  
```{r blood_loss_1, fig.height=3, fig.width=13, echo=FALSE, message=FALSE, warning=FALSE}
plot <- plotmd_single_studies(words = tblood1$b,
                              numbers = tblood1$c,
                              fpPosition = ncol(tblood1$b),
                              xtick = c(-250, -150, -50,0, 50, 150), 
                              sizes = c(rep(NA,3), 1, NA),
                              bolding = c(T, F, F,T,F),
                              aligning = c('l',rep('c',4),'l'))
```
</details>
  
<details><summary>Suppl. figure  4: Mean blood loss (mL) after RLDRH versus ODRH </summary>
  
```{r blood_loss2, fig.height = 3, fig.width = 16, echo=FALSE, fig.retina = 2, message=FALSE, warning=FALSE}
plot <- plotmd_single_studies(words = tblood2$b,
                              numbers = tblood2$c,
                              fpPosition = ncol(tblood2$b)-1,
                              xtick = c(-250, -150, -50, 0, 50, 150, 250), 
                              sizes = 
                                c(rep(NA,3), 0.011*(blood2_md$pre$weights+50), NA, 1,NA),
                              bolding = c(T, rep(F, 7), T, F),
                              aligning = c('l', rep('c', 4), 'l', 'l'))

```
</details>

  
<details><summary>Suppl. figure 5: Mean peak ALT levels  (IU/L) after RLDRH versus LADRH</summary>
  
```{r alt1, fig.height=3, fig.width=14, echo=FALSE, message=FALSE, warning=FALSE}
plot <- plotmd_single_studies(words = talt1$b,
                              numbers = talt1$c,
                              fpPosition = ncol(talt1$b),
                              xtick = c(-50, 0, 50, 150),
                              sizes = c(rep(NA,3), 1, NA),
                              bolding = c(T, rep(F, 2), T, F),
                              aligning = c('l', rep('c', 4), 'l'))

```
</details>

  
<details><summary>Suppl. figure 6: Mean peak ALT levels (IU/L) after RLDRH versus ODRH</summary>
  
```{r alt2, fig.height=3, fig.width=17, echo=FALSE, message=FALSE, warning=FALSE}
plot <- plotmd_single_studies(words = talt2$b,
                              numbers = talt2$c,
                              fpPosition = ncol(talt2$b)-1,
                              xtick = c(-250, -150,-50, 0, 50, 150, 250),
                              sizes = c(rep(NA,3), 0.02*(alt2_md$pre$weights),NA, 1, NA),
                              bolding = c(T, rep(F, 6), T, F),
                              aligning = c('l', rep('c', 4), 'l', 'l'))

```
</details>


<details><summary>Suppl. figure 7: Mean peak AST levels (IU/L) after RLDRH versus LADRH</summary>

```{r ast1, fig.height=3, fig.width=14, echo=FALSE, message=FALSE, warning=FALSE}
plot <- plotmd_single_studies(words = tast1$b,
                      numbers = tast1$c,
                      fpPosition = ncol(tast1$b),
                      xtick = c(-50, 0, 50, 150),
                      sizes = c(rep(NA,3), 1, NA),
                      bolding = c(T, rep(F, 2), T, F),
                      aligning = c('l', rep('c', 4), 'l'))
```
</details>

<details><summary>Suppl. figure 8: Mean peak AST levels (IU/L) after RLDRH versus ODRH</summary>

```{r ast2, fig.height=3, fig.width=17, echo=FALSE, message=FALSE, warning=FALSE}
plot <- plotmd_single_studies(words = tast2$b,
                      numbers = tast2$c,
                      fpPosition = ncol(tast2$b)-1,
                      xtick = c(-250, -150,-50, 0, 50, 150, 250),
                      sizes = c(rep(NA,3), 0.02*(ast2_md$pre$weights),NA, 1, NA),
                      bolding = c(T, rep(F, 6), T, F),
                      aligning = c('l', rep('c', 4), 'l', 'l'))

```
</details>

<details><summary>Suppl. figure 9: Mean blood loss (mL) after RLDRH versus ODRH</summary>

```{r blood_ODRH_recipient, fig.height=3, fig.width=13, echo=FALSE, message=FALSE, warning=FALSE}
plot <- plotmd_single_studies(words = tblood3$b,
                      numbers = tblood3$c,
                      fpPosition = ncol(tblood3$b),
                      xtick = c(-1500, -500, 0, 500, 1500, 2500),
                      sizes = c(rep(NA,3), 1, NA),
                      bolding = c(T, rep(F, 2), T, F),
                      aligning = c('l', rep('c', 4), 'l'))
```
</details>

<details><summary>Suppl. figure 10: Mean ALT peak levels (IU/L) after RLDRH versus ODRH</summary>

```{r alt_ODRH_recipient, fig.height=3, fig.width=13, echo=FALSE, message=FALSE, warning=FALSE}
plot <- plotmd_single_studies(words = talt3$b,
                      numbers = talt3$c,
                      fpPosition = ncol(talt3$b),
                      xtick = c(-50,-30,  -10, 0, 10, 30,  50),
                      sizes = c(rep(NA,3), 1, NA),
                      bolding = c(T, rep(F, 2), T, F),
                      aligning = c('l', rep('c', 4), 'l'))
```
</details>



```{r analysis_continuous_donor2, echo=FALSE, message=FALSE, warning=FALSE}
# Bilirubin RLDRH vs LADRH
bil <- subset(h1, outcome=='Peak Total Bilirubin')
bil1 <- subset(bil, comparison=='LADRH')
bil1_md <- md(bil1)
tbil1 <- table_md(analysis = bil1_md, nstudies = 1, 
                    int = "RLDRH (n)", comp = "LADRH (n)",
                    outcome = 'Peak Total Bilirubin (mg/dL)', col = 'Mean (SD)', 
                    follow = FALSE)
# Bilirubin RLDRH vs ODRH
bil2 <- subset(bil, comparison=='ODRH')
bil2_md <- md(bil2)
tbil2 <- table_md(analysis = bil2_md, nstudies = 3, 
                    int = "RLDRH (n)", comp = "ODRH (n)",
                    outcome = 'Peak Total Bilirubin (mg/dL)', col = 'Mean (SD)', 
                    follow = FALSE)
# Pain RLDRH vs LADRH
pain <- subset(h1, outcome=='Pain score')
pain1 <- subset(pain, comparison=='LADRH')

pain2_fu1 <- subset(pain1, followup=='day 0-1')
pain2_fu1 <- md(pain2_fu1)
tpain2_fu1 <- table_md(analysis = pain2_fu1, nstudies = 1, 
                    int = "RLDRH (n)", comp = "ODRH (n)",
                    outcome = 'Pain score (VAS)', col = 'Mean (SD)', follow = TRUE)

pain2_fu2 <- subset(pain1, followup=='day 2-3')
pain2_fu2 <- md(pain2_fu2)
tpain2_fu2 <- table_md(analysis = pain2_fu2, nstudies = 1, 
                    int = "RLDRH (n)", comp = "ODRH (n)",
                    outcome = 'Pain score (VAS)', col = 'Mean (SD)', follow= TRUE)

pain2_fu3 <- subset(pain1, followup=='day >3')
pain2_fu3 <- md(pain2_fu3)
tpain2_fu3 <- table_md(analysis = pain2_fu3, nstudies = 1, 
                    int = "RLDRH (n)", comp = "ODRH (n)",
                    outcome = 'Pain score (VAS)', col = 'Mean (SD)', follow= TRUE)
# Pain RLDRH vs ODRH
pain2 <- subset(pain, comparison=='ODRH')

pain3_fu1 <- subset(pain2, followup=='day 0-1')
pain3_fu1 <- md(pain3_fu1)
tpain3_fu1 <- table_md(analysis = pain3_fu1, nstudies = 3, 
                    int = "RLDRH (n)", comp = "ODRH (n)",
                    outcome = 'Pain score (VAS)', col = 'Mean (SD)', follow=FALSE)

pain3_fu2 <- subset(pain2, followup=='day 2-3')
pain3_fu2 <- md(pain3_fu2)
tpain3_fu2 <- table_md(analysis = pain3_fu2, nstudies = 3, 
                    int = "RLDRH (n)", comp = "ODRH (n)",
                    outcome = 'Pain score (VAS)', col = 'Mean (SD)', follow=FALSE)

pain3_fu3 <- subset(pain2, followup=='day >3')
pain3_fu3 <- md(pain3_fu3)
tpain3_fu3 <- table_md(analysis = pain3_fu3, nstudies = 3, 
                    int = "RLDRH (n)", comp = "ODRH (n)",
                    outcome = 'Pain score (VAS)', col = 'Mean (SD)', follow=FALSE)
# Length of stay RLDRH vs LADRH
hospital <- subset(h1, outcome=='Hospital stay')
hospital1 <- subset(hospital, comparison=='LADRH')
hospital1_md <- md(hospital1)
thospital1 <- table_md(analysis = hospital1_md, nstudies = 1, 
                    int = "RLDRH (n)", comp = "LADRH (n)",
                    outcome = 'Length of stay (days)', col = 'Mean (SD)', 
                    follow = FALSE)
# Length of stay RLDRH vs ODRH
hospital2 <- subset(hospital, comparison=='ODRH')
hospital2_md <- md(hospital2)
thospital2 <- table_md(analysis = hospital2_md, nstudies = 3, 
                    int = "RLDRH (n)", comp = "ODRH (n)",
                    outcome = 'Length of stay (days)', col = 'Mean (SD)')





```



```{r analysis_continuous_recipient2, echo=FALSE, message=FALSE, warning=FALSE}
#AST RLDRH vs ODRH
ast3 <- subset(e2, comparison=='ODRH' & outcome=='Peak AST level')
ast3_md <- md(ast3)
tast3 <- table_md(analysis = ast3_md, nstudies = 1, 
                    int = "RLDRH (n)", comp = "ODRH (n)",
                    outcome = 'AST (U/L)', col = 'Mean (SD)', 
                    follow = FALSE)
#Bilirubin RLDRH vs ODRH
bil3 <- subset(e2, comparison=='ODRH' & outcome=='Peak Total Bilirubin')
bil3_md <- md(bil3)
tbil3 <- table_md(analysis = bil3_md, nstudies = 1, 
                    int = "RLDRH (n)", comp = "ODRH (n)",
                    outcome = 'Peak Total Bilirubin (mg/dL)', col = 'Mean (SD)', 
                    follow = FALSE)
#Length of stay (days) RLDRH vs LADRH
hospital3 <- subset(e2, comparison=='LADRH')
hospital3_md <- md(hospital3)
thospital3 <- table_md(analysis = hospital3_md, nstudies = 1, 
                    int = "RLDRH (n)", comp = "LADRH (n)",
                    outcome = 'Length of stay (days)', col = 'Mean (SD)', 
                    follow = FALSE)
#Length of stay (days) RLDRH vs ODRH
hospital4 <- subset(e2, comparison=='ODRH' & outcome=='Hospital stay')
hospital4_md <- md(hospital4)
thospital4 <- table_md(analysis = hospital4_md, nstudies = 3, 
                    int = "RLDRH (n)", comp = "ODRH (n)",
                    outcome = 'Length of stay (days)', col = 'Mean (SD)')

```



## Figure 3: Continuous Outcomes Part 2
```{r overall_continuous2, fig.height=10, fig.width=14, echo=FALSE, message=FALSE, warning=FALSE}

title <- c('Outcome', 'N of studies', 
       'Amr1 (n)', 'Arm2 (n)', 
       'I2', 
       paste0('Mean Difference (MD)','\n','95%CI'), 
       paste0('Figure with','\n', 'Detailed Information'))


head3 <- c('Donor patients', rep(NA, 6))


a1 <- c('A. Mean bilirubin levels (mg/dL)', rep(NA, 6))
b1 <- c(paste0(unique(bil1$intervention), ' vs ', unique(bil1$comparison)), bil1_md$ma$k, 
       sum(bil1$n1), sum(bil1$n2), 
       ifelse(bil1_md$ma$k == 1, paste0('NA'), paste0(formatC(bil1_md$ma$I2, format='f', digits=0),'%')),
       tbil1$b[[4,6]], 
       'Suppl Fig #11')
c1 <- c(paste0(unique(bil2$intervention), ' vs ', unique(bil2$comparison)), bil2_md$ma$k, 
       sum(bil2$n1), sum(bil2$n2), 
       ifelse(bil2_md$ma$k == 1, paste0('NA'), paste0(formatC(bil2_md$ma$I2, format='f',                digits=0),'%')),
       tbil2$b[[8,6]], 
       'Suppl Fig #12')


d1 <- c('B. Mean pain scores (VAS)', rep(NA, 6))



e1 <- c(paste0(unique(pain2_fu1$pre$intervention), ' vs ', unique(pain2_fu1$pre$comparison), ' (',
        paste0(unique(pain2_fu1$pre$followup)), ') '), pain2_fu1$ma$k, 
       sum(pain2_fu1$pre$n1), sum(pain2_fu1$pre$n2), 
       ifelse(pain2_fu1$ma$k == 1, paste0('NA'), paste0(formatC(pain2_fu1$ma$I2, format='f', digits=0),'%')),
       tpain2_fu1$b[[4,7]], 
       'Suppl Fig #13')


f1 <- c(paste0(unique(pain2_fu2$pre$intervention), ' vs ', unique(pain2_fu2$pre$comparison), ' (',
        paste0(unique(pain2_fu2$pre$followup)), ') '), pain2_fu2$ma$k, 
       sum(pain2_fu2$pre$n1), sum(pain2_fu2$pre$n2), 
       ifelse(pain2_fu2$ma$k == 1, paste0('NA'), paste0(formatC(pain2_fu2$ma$I2, format='f', digits=0),'%')),
       tpain2_fu2$b[[4,7]], 
       'Suppl Fig #13')
g1 <- c(paste0(unique(pain2_fu3$pre$intervention), ' vs ', unique(pain2_fu3$pre$comparison), ' (',
        paste0(unique(pain2_fu3$pre$followup)), ') '), pain2_fu3$ma$k, 
       sum(pain2_fu3$pre$n1), sum(pain2_fu3$pre$n2), 
       ifelse(pain2_fu3$ma$k == 1, paste0('NA'), paste0(formatC(pain2_fu3$ma$I2, format='f', digits=0),'%')),
       tpain2_fu3$b[[4,7]], 
       'Suppl Fig #13')

                  

h1 <- c(paste0(unique(pain3_fu1$pre$intervention), ' vs ', unique(pain3_fu1$pre$comparison), ' (',
        paste0(unique(pain3_fu1$pre$followup)), ') '), pain3_fu1$ma$k, 
       sum(pain3_fu1$pre$n1), sum(pain3_fu1$pre$n2), 
       ifelse(pain3_fu1$ma$k == 1, paste0('NA'), paste0(formatC(pain3_fu1$ma$I2, format='f', digits=0),'%')),
       tpain3_fu1$b[[8,6]], 
       'Suppl Fig #14')
i1 <- c(paste0(unique(pain3_fu2$pre$intervention), ' vs ', unique(pain3_fu2$pre$comparison), ' (',
        paste0(unique(pain3_fu2$pre$followup)), ') '), pain3_fu2$ma$k, 
       sum(pain3_fu2$pre$n1), sum(pain3_fu2$pre$n2), 
       ifelse(pain3_fu2$ma$k == 1, paste0('NA'), paste0(formatC(pain3_fu2$ma$I2, format='f', digits=0),'%')),
       tpain3_fu2$b[[7,6]], 
       'Suppl Fig #15')
j1 <- c(paste0(unique(pain3_fu3$pre$intervention), ' vs ', unique(pain3_fu3$pre$comparison), ' (',
        paste0(unique(pain3_fu3$pre$followup)), ') '), pain3_fu3$ma$k, 
       sum(pain3_fu3$pre$n1), sum(pain3_fu3$pre$n2), 
       ifelse(pain3_fu3$ma$k == 1, paste0('NA'), paste0(formatC(pain3_fu3$ma$I2, format='f', digits=0),'%')),
       tpain3_fu3$b[[7,6]], 
       'Suppl Fig #16')



k1 <- c('C. Mean hospital length of stay (days)', rep(NA, 6))
l1 <- c(paste0(unique(hospital1$intervention), ' vs ', unique(hospital1$comparison)), hospital1_md$ma$k, 
       sum(hospital1$n1), sum(hospital1$n2), 
       ifelse(hospital1_md$ma$k == 1, paste0('NA'), paste0(formatC(hospital1_md$ma$I2, format='f', digits=0),'%')),
       thospital1$b[[4,6]], 
       'Suppl Fig #17')
m1 <- c(paste0(unique(hospital2$intervention), ' vs ', unique(hospital2$comparison)), hospital2_md$ma$k, 
       sum(hospital2$n1), sum(hospital2$n2), 
       ifelse(hospital2_md$ma$k == 1, paste0('NA'), paste0(formatC(hospital2_md$ma$I2, format='f',                digits=0),'%')),
       thospital2$b[[9,6]], 
       'Suppl Fig #18')





head4 <- c('Recipient patients', rep(NA, 6))


n1 <- c('D. Mean peak AST levels (UI/L)', rep(NA, 6))
o1 <- c(paste0(unique(ast3$intervention), ' vs ', unique(ast3$comparison)), ast3_md$ma$k, 
       sum(ast3$n1), sum(ast3$n2), 
       ifelse(ast3_md$ma$k == 1, paste('NA'), paste0(formatC(ast3_md$ma$I2, format='f', digits=0),'%')),
       tast3$b[[4,6]], 
       'Suppl Fig #19')



p1 <- c('E. Mean bilirubin levels (mg/dL)', rep(NA, 6))
q1 <- c(paste0(unique(bil3$intervention), ' vs ', unique(bil3$comparison)), bil3_md$ma$k, 
       sum(bil3$n1), sum(bil3$n2), 
       ifelse(bil3_md$ma$k == 1, paste0('NA'), paste0(formatC(bil3_md$ma$I2, format='f', digits=0),'%')),
       tbil3$b[[4,6]], 
       'Suppl Fig #20')


r1 <- c('F. Mean hospital length of stay (days)', rep(NA, 6))
s1 <- c(paste0(unique(hospital3$intervention), ' vs ', unique(hospital3$comparison)), hospital3_md$ma$k, 
       sum(hospital3$n1), sum(hospital3$n2), 
       ifelse(hospital3_md$ma$k == 1, paste0('NA'), paste0(formatC(hospital3_md$ma$I2, format='f', digits=0),'%')),
       thospital3$b[[4,6]], 
       'Suppl Fig #21')
t1 <- c(paste0(unique(hospital4$intervention), ' vs ', unique(hospital4$comparison)), hospital4_md$ma$k, 
       sum(hospital4$n1), sum(hospital4$n2), 
       ifelse(hospital4_md$ma$k == 1, paste0('NA'), paste0(formatC(hospital4_md$ma$I2, format='f',                digits=0),'%')),
       thospital4$b[[7,6]], 
       'Suppl Fig #22')





overall2 <- rbind(title, NA, NA, head3, NA, a1, b1, c1, NA, d1, e1, f1, g1, h1, i1, j1, NA, k1, l1, m1, NA, NA, head4, NA, n1, o1, NA, p1, q1, NA, r1, s1, t1, NA)
overall2 <- as.data.frame(overall2)

rownames(overall2) <- NULL



sub3 <- c(7,8,11:16, 19,20, 26, 29, 32, 33) 
overall2[,1][sub3] <- paste("       ",overall2[,1][sub3])

sub4 <- c(6,10,18,25,28, 31) 
overall2[,1][sub4] <- paste("   ",overall2[,1][sub4])



toverall2 <- rbind(NA, NA, NA, NA, NA, NA, tbil1$c[4,], tbil2$c[8,],
                  NA, NA, tpain2_fu1$c[4,], tpain2_fu2$c[4,], tpain2_fu3$c[4,],
                  tpain3_fu1$c[8,], tpain3_fu2$c[7,], tpain3_fu3$c[7,],
                  NA, NA, thospital1$c[4,], thospital2$c[9,],
                  NA, NA, NA, NA, NA, tast3$c[4,], 
                  NA, NA, tbil3$c[4,], 
                  NA, NA, thospital3$c[4,], thospital4$c[7,], NA)


toverall2 <- structure(list(
          mean = c(toverall2$mean),
          lower = c(toverall2$lower),
          upper = c(toverall2$upper)),
          .Names = c("mean", "lower", "upper"),
          row.names = c(NA, (-1L*nrow(toverall2))),
          class = "data.frame")


plot2 <- forestplot(overall2,
             graph.pos = 6,
             zero = 0,
             toverall2,
             new_page = TRUE,
             colgap = unit(5, "mm"),
             hrzl_lines = list("3" = gpar (lwd=1, columns=c(1:8), col="black")),
             lineheight=unit(0.7,'cm'),
             boxsize = 0.5,
             line.margin = 2,
             is.summary = c(T, rep(F,2), T, F, T, rep(F,3), T, rep(F,7), T, rep(F,3), 
                            F, T, F, T, rep(F,2), T, rep(F,2), T, rep(F,3)),
             align = c('l', rep('c',4), 'l'),
             ci.vertices = TRUE,
             txt_gp = fpTxtGp(label =gpar (cex=0.9), 
                              ticks = gpar(cex = 0.9, fontface="bold"),
                              summary = gpar(cex = 0.9),
                              xlab = gpar(cex=0.9)),
             xticks = c(-7,-5,-1,0,1,5,7),
             xlog=FALSE,
             clip = c(-7, 7),
             grid = c(-7,-5,-1,0,1,5,7),
             lwd.xaxis = 1,
             lwd.ci = 2.2,
             lwd.zero = 2,
             graphwidth = unit(10,"cm"),
             col=fpColors(box="black",line="grey", zero = 'dodgerblue4', axes="grey20", summary="black"))

```



**Supplementary information for figure 3**
<details><summary>Suppl. figure 11: Mean peak total bilirubin levels (mg/dL) after RLDRH vs LADRH</summary>

```{r bilirubin1, fig.height=3, fig.width=14, echo=FALSE, message=FALSE, warning=FALSE}
plot <- plotmd_single_studies(words = tbil1$b,
                      numbers = tbil1$c,
                      fpPosition = ncol(tbil1$b),
                      xtick = c(-2,-1,0, 1,2),
                      sizes = c(rep(NA,3), 1, NA),
                      bolding = c(T, rep(F, 2), T, F),
                      aligning = c('l', rep('c', 4), 'l'))
```
</details>


<details><summary>Suppl. figure 12: Mean peak total bilirubin levels (mg/dL) after RLDRH vs ODRH</summary>

```{r bilirubin2, fig.height=3, fig.width=17, echo=FALSE, message=FALSE, warning=FALSE}
plot <- plotmd_single_studies(words = tbil2$b,
                      numbers = tbil2$c,
                      fpPosition = ncol(tbil2$b)-1,
                      xtick = c(-2,-1,0, 1,2),
                      sizes = c(rep(NA,3), 0.02*(bil2_md$pre$weights),NA, 1, NA),
                      bolding = c(T, rep(F, 6), T, F),
                      aligning = c('l', rep('c', 4), 'l', 'l'))
```
</details>

<details><summary>Suppl. figure 13: Mean pain scores (VAS) after RLDRH vs LADRH</summary>

```{r pain2, fig.height=3, fig.width=14, echo=FALSE, message=FALSE, warning=FALSE}
b <- rbind(tpain2_fu1$b[c(1:4),], 
           tpain2_fu2$b[c(3,4),],
           tpain2_fu3$b[c(3:5),])

c <- rbind(tpain2_fu1$c[c(1:4),], 
           tpain2_fu2$c[c(3,4),],
           tpain2_fu3$c[c(3:5),])

c <- structure(list(
          mean = c(c$mean),
          lower = c(c$lower),
          upper = c(c$upper)),
          .Names = c("mean", "lower", "upper"),
          row.names = c(NA, (-1L*nrow(c))),
          class = "data.frame")

plot <- plotmd_single_studies(words = b, 
                              numbers = c, 
                              fpPosition = ncol(b),
                      xtick = c(-2, -1, -0.5, 0, 0.5, 1, 2),
                      sizes = c(rep(NA,3), rep(c(1,NA),3)),
                      bolding = c(T, F, F, rep(c(T, F), 3)),
                      aligning = c('l', 'l', rep('c', 4), 'l'))

```
</details>



<details><summary>Suppl. figure 14: Mean pain scores (VAS) at day 0-1 after RLDRH vs ODRH</summary>

```{r pain2_followup1, fig.height=3, fig.width=15, echo=FALSE, message=FALSE, warning=FALSE}
plot <- plotmd_single_studies(words = tpain3_fu1$b, 
                              numbers = tpain3_fu1$c, 
                              fpPosition = ncol(tpain3_fu1$b)-1,
                              xtick =  c(-2, -1, 0, 1, 2),
                              sizes = c(rep(NA,3), 0.011*(pain3_fu1$pre$weights),NA, 1, NA),
                              bolding = c(T, rep(F,2), rep(F, 3), F, T, F),
                              aligning = c('l', rep('c', 4), 'l', 'l'))

```
</p>
</details>

<details><summary>Suppl. figure 15:  Mean pain scores (VAS) at day 2-3 after RLDRH vs ODRH</summary>
<p>
```{r pain2_followup2, fig.height=3, fig.width=15, echo=FALSE, message=FALSE, warning=FALSE}
plot <- plotmd_single_studies(words = tpain3_fu2$b, 
                              numbers = tpain3_fu2$c, 
                              fpPosition = ncol(tpain3_fu2$b)-1,
                              xtick =  c(-2, -1, 0, 1, 2),
                              sizes = c(rep(NA,3), 0.011*(pain3_fu2$pre$weights),NA, 1, NA),
                              bolding = c(T, rep(F,2), rep(F, 2), F, T, F),
                              aligning = c('l', rep('c', 4), 'l', 'l'))

```
</p>
</details>
  
<details><summary>Suppl. figure 16: Mean pain scores (VAS) at day >3 after RLDRH vs ODRH</summary>
<p>
```{r pain2_followup3, fig.height=3, fig.width=15, echo=FALSE, message=FALSE, warning=FALSE}
plot <- plotmd_single_studies(words = tpain3_fu3$b, 
                              numbers = tpain3_fu3$c, 
                              fpPosition = ncol(tpain3_fu3$b)-1,
                              xtick =  c(-2, -1, 0, 1, 2),
                              sizes = c(rep(NA,3), 0.011*(pain3_fu3$pre$weights),NA, 1, NA),
                              bolding = c(T, rep(F,2), rep(F, 2), F, T, F),
                              aligning = c('l', rep('c', 4), 'l', 'l'))

```
</p>
</details>


<details><summary>Suppl. figure 17: Mean length of hospital stay (days) after RLDRH vs LADRH</summary>

```{r hospital1, fig.height=3, fig.width=14, echo=FALSE, message=FALSE, warning=FALSE}
plot <- plotmd_single_studies(words = thospital1$b,
                      numbers = thospital1$c,
                      fpPosition = ncol(thospital1$b),
                      xtick = c(-2, -1,  0,  1, 2),
                      sizes = c(rep(NA,3), 1, NA),
                      bolding = c(T, rep(F, 2), T, F),
                      aligning = c('l', rep('c', 4), 'l'))
```
</details>


<details><summary>Suppl. figure 18: Mean length of hospital stay (days) after RLDRH vs ODRH</summary>

```{r hospital2, fig.height=3, fig.width=16, echo=FALSE, message=FALSE, warning=FALSE}
plot <- plotmd_single_studies(words = thospital2$b,
                      numbers = thospital2$c,
                      fpPosition = ncol(thospital2$b)-1,
                      xtick = c(-3, -2, -1, -0.5, 0, 0.5, 1, 2),
                      sizes = c(rep(NA,3), 0.011*(hospital2_md$pre$weights+50), NA, 1,NA),
                      bolding = c(T, rep(F, 7), T, F),
                      aligning = c('l', rep('c', 4), 'l', 'l'))

```
</details>


<details><summary>Suppl. figure 19: Mean AST peak levels (U/L) after RLDRH vs ODRH</summary>

```{r ast_ODRH_recipient, fig.height=3, fig.width=13, echo=FALSE, message=FALSE, warning=FALSE}
plot <- plotmd_single_studies(words = tast3$b,
                      numbers = tast3$c,
                      fpPosition = ncol(tast3$b),
                      xtick = c(-2,-1,0,1,2),
                      sizes = c(rep(NA,3), 1, NA),
                      bolding = c(T, rep(F, 2), T, F),
                      aligning = c('l', rep('c', 4), 'l'))
```

</details>


<details><summary>Suppl. figure 20: Mean peak total bilirubin levels after RLDRH vs ODRH</summary>

```{r bilirubin_ODRH_recipient, fig.height=3, fig.width=14, echo=FALSE, message=FALSE, warning=FALSE}
plot <- plotmd_single_studies(words = tbil3$b,
                      numbers = tbil3$c,
                      fpPosition = ncol(tbil3$b),
                      xtick = c(-2,-1, 0, 1,2),
                      sizes = c(rep(NA,3), 1, NA),
                      bolding = c(T, rep(F, 2), T, F),
                      aligning = c('l', rep('c', 4), 'l'))
```

</details>


<details><summary>Suppl. figure 21: Mean length of hospital stay (days) after RLDRH vs LADRH</summary>

```{r hospitalstay_LADRH_recipient, fig.height=3, fig.width=13, echo=FALSE, message=FALSE, warning=FALSE}
plot <- plotmd_single_studies(words = thospital3$b,
                      numbers = thospital3$c,
                      fpPosition = ncol(thospital3$b),
                      xtick = c(-20, -10, -5, 0, 5, 10, 20),
                      sizes = c(rep(NA,3), 1, NA),
                      bolding = c(T, rep(F, 2), T, F),
                      aligning = c('l', rep('c', 4), 'l'))
```
</details>


<details><summary>Suppl. figure 22: Mean length of hospital stay (days) after RLDRH vs ODRH</summary>

```{r hospitalstay_ODRH_recipient, fig.height=3, fig.width=16, echo=FALSE, message=FALSE, warning=FALSE}
plot <- plotmd_single_studies(words = thospital4$b,
                      numbers = thospital4$c,
                      fpPosition = ncol(thospital4$b)-1,
                      xtick = c(-20, -10, -5, 0, 5, 10, 20),
                      sizes = c(rep(NA,3), 0.005*(hospital4_md$pre$weights+50), NA, 1,NA),
                      bolding = c(T, rep(F, 5), T, F),
                      aligning = c('l', rep('c', 4), 'l', 'l'))
```
</details>




```{r analysis_dichotomous_donor, echo=FALSE, message=FALSE, warning=FALSE}
d <- read.csv("6 Extracted Data/outcome_dichotomous_donor.csv")
d$outcomes2 <- paste(d$outcomes, d$definition)
d$comparison[d$comparison == 'NR'] <- NA

d2 <- d[!is.na(d$comparison),]

names(d2)[10] <- "n1"
names(d2)[11] <- "n2"
names(d2)[12] <- "e1"
names(d2)[13] <- "e2"

d2$comparison[d2$comparison == 'ORLDH'] <- 'ODRH'
d2[,c(9:13)] <- lapply(d2[,c(9:13)], as.numeric)

d2$author <- 
  ifelse(d2$refid==9, paste("Rho et al., 2020"),
  ifelse(d2$refid==27, paste("Broering et al., 2020"),
  ifelse(d2$refid==5, paste("Binoj et al., 2020"),
  ifelse(d2$refid==172, paste("Chen et al., 2016"),
  ifelse(d2$refid==74, paste("Cheah et al., 2019"),
  ifelse(d2$refid==239, paste("Martucci et al., 2013"),
  ifelse(d2$refid==277, paste("Giulianotti et al., 2011"), NA)))))))




#CD I-II RLDRH vs LADRH
compLADRH <- subset(d2, comparison=='LADRH')
comp1 <- subset(compLADRH, definition=='I-II')
comp1_rr <- rr(comp1)
tcomp1 <- table_rr(analysis = comp1_rr, nstudies = 1, 
                    int = "RLDRH", comp = "LADRH",
                    outcome = 'Complications I-II')
#CD I-II RLDRH vs ODRH
compODRH <- subset(d2, comparison=='ODRH')
comp3 <- subset(compODRH, definition=='I-II')
comp3_rr <- rr(comp3)
tcomp3 <- table_rr(analysis = comp3_rr, nstudies = 2, 
                    int = "RLDRH", comp = "ODRH",
                    outcome = 'Complications I-II')
#CD III-IV RLDRH vs LADRH
comp2 <- subset(compLADRH, definition=='III-IV')
comp2_rr <- rr(comp2)
tcomp2 <- table_rr(analysis = comp2_rr, nstudies = 1, 
                    int = "RLDRH", comp = "LADRH",
                    outcome = 'Complications III-IV')
#CD III-IV RLDRH vs ODRH
comp4 <- subset(compODRH, definition=='III-IV')
comp4_rr <- rr(comp4)
tcomp4 <- table_rr(analysis = comp4_rr, nstudies = 2, 
                    int = "RLDRH", comp = "ODRH",
                    outcome = 'Complications III-IV')
```


```{r analysis_dichotomous_recipient, echo=FALSE, message=FALSE, warning=FALSE}
f <- read.csv("6 Extracted Data/outcome_dichotomous_recipient.csv")
f$outcomes2 <- ifelse(is.na(f$definition), paste0(f$outcomes), paste(f$outcomes, f$definition))
f$comparison[f$comparison == 'NR'] <- NA

f2 <- f[!is.na(f$comparison),]

names(f2)[10] <- "n1"
names(f2)[11] <- "n2"
names(f2)[12] <- "e1"
names(f2)[13] <- "e2"

f2$comparison[f2$comparison == 'ORLDH'] <- 'ODRH'

f2[,c(10:13)] <- lapply(f2[,c(10:13)], as.numeric)


f2$author <- 
  ifelse(f2$refid==9, paste("Rho et al., 2020"),
  ifelse(f2$refid==27, paste("Broering et al., 2020"),
  ifelse(f2$refid==5, paste("Binoj et al., 2020"),
  ifelse(f2$refid==172, paste("Chen et al., 2016"),
  ifelse(f2$refid==74, paste("Cheah et al., 2019"),
  ifelse(f2$refid==239, paste("Martucci et al., 2013"),
  ifelse(f2$refid==277, paste("Giulianotti et al., 2011"), NA)))))))

f2LADRH <- subset(f2, comparison=='LADRH')
f2ODRH <- subset(f2, comparison=='ODRH')

#Mortality RLDRH vs LADRH
mortality1 <- subset(f2LADRH, outcomes=='Mortality')
mortality1_rr <- rr(mortality1)
tmortality1 <- table_rr(analysis = mortality1_rr, nstudies = 1, 
                    int = "RLDRH", comp = "LADRH",
                    outcome = 'Mortality')
#Mortality RLDRH vs ODRH
mortality2 <- subset(f2ODRH, outcomes=='Mortality')
mortality2_rr <- rr(mortality2)
tmortality2 <- table_rr(analysis = mortality2_rr, nstudies = 3, 
                    int = "RLDRH", comp = "ODRH",
                    outcome = 'Mortality')


#CD I-II RLDRH vs LADRH
complications3 <- subset(f2LADRH, outcomes2=='Postoperative complications I-II')
complications3_rr <- rr(complications3)
tcomplications3 <- table_rr(analysis = complications3_rr, nstudies = 1, 
                    int = "RLDRH", comp = "LADRH",
                    outcome = 'Complications')
#CD I-II RLDRH vs ODRH
complications4 <- subset(f2ODRH, outcomes2=='Postoperative complications I-II')
complications4_rr <- rr(complications4)
tcomplications4 <- table_rr(analysis = complications4_rr, nstudies = 3, 
                    int = "RLDRH", comp = "ODRH",
                    outcome = 'Complications I-II')
#CD III-IV RLDRH vs LADRH
complications5 <- subset(f2LADRH, outcomes2=='Postoperative complications III-IV')
complications5_rr <- rr(complications5)
tcomplications5 <- table_rr(analysis = complications5_rr, nstudies = 1, 
                    int = "RLDRH", comp = "LADRH",
                    outcome = 'Complications III-IV')
#CD III-IV RLDRH vs ODRH
complications6 <- subset(f2ODRH, outcomes2=='Postoperative complications III-IV')
complications6_rr <- rr(complications6)
tcomplications6 <- table_rr(analysis = complications6_rr, nstudies = 3, 
                    int = "RLDRH", comp = "ODRH",
                    outcome = 'Complications III-IV')
```



# Figure 4: Dichotomous outcomes
```{r overall_dichotomous, fig.height=7, fig.width=15, echo=FALSE, message=FALSE, warning=FALSE}

title2 <- c('Outcome', 'N of studies', 
            paste0('Arm 1','\n', '(n/N)'),
            paste0('Arm 2','\n', '(n/N)'),
            'I2', 
            paste0('Relative Risk (RR)','\n','95%CI'), 
            paste0('Figure with','\n', 'Detailed Information'))
  

head4 <- c('Mortality Risk in Recipient Patients', rep(NA, 6))

b2 <- c(paste0(unique(mortality1$intervention), ' vs ', unique(mortality1$comparison)), mortality1_rr$ma$k, 
       tmortality1$b[[4,2]], tmortality1$b[[4,3]], 
       ifelse(mortality1_rr$ma$k == 1, paste0('na'), paste0(formatC(mortality1_rr$ma$I2, format='f', digits=0),'%')),
       tmortality1$b[[4,4]], 
       'Suppl Fig #23')
c2 <- c(paste0(unique(mortality2$intervention), ' vs ', unique(mortality2$comparison)), mortality2_rr$ma$k, 
       tmortality2$b[[8,2]], tmortality2$b[[8,3]], 
       ifelse(mortality2_rr$ma$k == 1, paste0('na'), paste0(formatC(mortality2_rr$ma$I2, format='f', digits=0),'%')),
       tmortality2$b[[8,4]], 
       'Suppl Fig #24')


head5 <- c('Postoperative Complications in Donor Patients', rep(NA, 6))

d2 <- c('Clevien-Dindo I-II at 30 days', rep(NA, 6))
e2 <- c(paste0(unique(comp1$intervention), ' vs ', unique(comp1$comparison)), comp1_rr$ma$k, 
       tcomp1$b[[4,2]], tcomp1$b[[4,3]], 
       ifelse(comp1_rr$ma$k == 1, paste0('na'), paste0(formatC(comp1_rr$ma$I2, format='f', digits=0),'%')),
       tcomp1$b[[4,4]], 
       'Suppl Fig #25')

f2 <- c(paste0(unique(comp3$intervention), ' vs ', unique(comp3$comparison)), comp3_rr$ma$k, 
       tcomp3$b[[8,2]], tcomp3$b[[8,3]], 
       ifelse(comp3_rr$ma$k == 1, paste0('na'), paste0(formatC(comp3_rr$ma$I2, format='f', digits=0),'%')),
       tcomp3$b[[8,4]], 
       'Suppl Fig #26')


g2 <- c('Clevien-Dindo III-IV at 30 days', rep(NA, 6))
h2 <- c(paste0(unique(comp2$intervention), ' vs ', unique(comp2$comparison)), comp2_rr$ma$k, 
       tcomp2$b[[4,2]], tcomp2$b[[4,3]], 
       ifelse(comp2_rr$ma$k == 1, paste0('na'), paste0(formatC(comp2_rr$ma$I2, format='f', digits=0),'%')),
       tcomp2$b[[4,4]], 
       'Suppl Fig #27')
i2 <- c(paste0(unique(comp4$intervention), ' vs ', unique(comp4$comparison)), comp4_rr$ma$k, 
       tcomp4$b[[8,2]], tcomp4$b[[8,3]], 
       ifelse(comp4_rr$ma$k == 1, paste0('na'), paste0(formatC(comp4_rr$ma$I2, format='f', digits=0),'%')),
       tcomp4$b[[8,4]], 
       'Suppl Fig #28')



head6 <- c('Postoperative Complications in Recipient Patients', rep(NA, 6))

j2 <- c('Clevien-Dindo I-II at 30 days', rep(NA, 6))
k2 <- c(paste0(unique(complications3$intervention), ' vs ', unique(complications3$comparison)), complications3_rr$ma$k, 
       tcomplications3$b[[4,2]], tcomplications3$b[[4,3]], 
       ifelse(complications3_rr$ma$k == 1, paste0('na'), 
              paste0(formatC(complications3_rr$ma$I2, format='f', digits=0),'%')),
       tcomplications3$b[[4,4]], 
       'Suppl Fig #29')

l2 <- c(paste0(unique(complications4$intervention), ' vs ', unique(complications4$comparison)), complications4_rr$ma$k, 
       tcomplications4$b[[8,2]], tcomplications4$b[[8,3]], 
       ifelse(complications4_rr$ma$k == 1, paste0('na'), 
              paste0(formatC(complications4_rr$ma$I2, format='f', digits=0),'%')),
       tcomplications4$b[[8,4]], 
       'Suppl Fig #30')


m2 <- c('Clevien-Dindo III-IV at 30 days', rep(NA, 6))
n2 <- c(paste0(unique(complications5$intervention), ' vs ', unique(complications5$comparison)), complications5_rr$ma$k, 
       tcomplications5$b[[4,2]], tcomplications5$b[[4,3]], 
       ifelse(complications5_rr$ma$k == 1, paste0('na'), 
              paste0(formatC(complications5_rr$ma$I2, format='f', digits=0),'%')),
       tcomplications5$b[[4,4]], 
       'Suppl Fig #31')

o2 <- c(paste0(unique(complications6$intervention), ' vs ', unique(complications6$comparison)), complications6_rr$ma$k, 
       tcomplications6$b[[8,2]], tcomplications6$b[[8,3]], 
       ifelse(complications6_rr$ma$k == 1, paste0('na'), 
              paste0(formatC(complications6_rr$ma$I2, format='f', digits=0),'%')),
       tcomplications6$b[[8,4]], 
       'Suppl Fig #32')




overall3 <- rbind(title2, NA, NA, head4, b2, c2, NA, NA,
                  head5, d2, e2, f2, g2, h2, i2, NA, NA,
                  head6, j2, k2, l2, m2, n2, o2, NA)
rownames(overall3) <- NULL

sub5 <- c(5,6,11,12,14,15,20,21,23,24) 
overall3[,1][sub5] <- paste("       ",overall3[,1][sub5])

sub6 <- c(10,13,19,22) 
overall3[,1][sub6] <- paste("   ",overall3[,1][sub6])



toverall3 <- rbind(NA, NA, NA, NA, tmortality1$c[4,], tmortality2$c[8,], NA, NA,
                   NA, NA, tcomp1$c[4,], tcomp3$c[8,], NA, tcomp2$c[4,], tcomp4$c[8,], NA, NA,
                   NA, NA,tcomplications3$c[4,], tcomplications4$c[8,], NA, 
                   tcomplications5$c[4,], tcomplications6$c[8,], NA)


toverall3 <- structure(list(
          mean = c(toverall3$mean),
          lower = c(toverall3$lower),
          upper = c(toverall3$upper)),
          .Names = c("mean", "lower", "upper"),
          row.names = c(NA, (-1L*nrow(toverall3))),
          class = "data.frame")


plot3 <- forestplot(overall3,
             graph.pos = 6,
             zero = 1,
             toverall3,
             new_page = TRUE,
             colgap = unit(5, "mm"),
             hrzl_lines = list("3" = gpar (lwd=1, columns=c(1:8), col="black")),
             lineheight=unit(0.7,'cm'),
             boxsize = 0.5,
             line.margin = 2,
             is.summary = c(T, rep(F,2), T, rep(F, 4), T, T,  rep(F,2), T, rep(F,4), 
                            T, T,  rep(F,2), T,  rep(F,3)),
             align = c('l', rep('c',4), 'l'),
             ci.vertices = TRUE,
             txt_gp = fpTxtGp(label =gpar (cex=0.9), 
                              ticks = gpar(cex = 0.9, fontface="bold"),
                              summary = gpar(cex = 0.9),
                              xlab = gpar(cex=0.9)),
             xticks = c(0.2, 0.5, 2, 4),
             xlog=TRUE,
             clip = c(0.2, 4),
             grid = c(0.2, 0.5, 2, 4),
             lwd.xaxis = 1,
             lwd.ci = 2.2,
             lwd.zero = 2,
             graphwidth = unit(10,"cm"),
             col=fpColors(box="black",line="grey", zero = 'dodgerblue4', axes="grey20", summary="black"))

```

**Supplementary information for figure 4**
<details><summary>Suppl. figure 23: Mortality risk at 30 days after RLDRH vs LADRH</summary>

```{r mortality_LADRH,  fig.height=3, fig.width=13, echo=FALSE, message=FALSE, warning=FALSE}
plot <- plotrr_single_studies(words = tmortality1$b,
                      numbers = tmortality1$c,
                      fpPosition = ncol(tmortality1$b),
                      xtick = c(0.06, 0.25,0.5,1,2,4, 16, 64),
                      sizes = c(rep(NA,3), 1, NA),
                      bolding = c(T, rep(F, 2), T, F),
                      aligning = c('l', rep('c', 2), 'l'))
```
</details>


<details><summary>Suppl. figure 24: Mortality risk at 30 days after RLDRH vs ODRH</summary>

```{r mortality_ODRH_recipient,  fig.height=3, fig.width=14, echo=FALSE, message=FALSE, warning=FALSE}
plot <- plotrr_single_studies(words = tmortality2$b,
                      numbers = tmortality2$c,
                      fpPosition = ncol(tmortality2$b),
                      xtick = c( 0.06,0.25,0.5,1,2,4, 16),
                      sizes = c(rep(NA,3), 0.005*(mortality2_rr$pre$weights+50),NA, 1, NA),
                      bolding = c(T, rep(F, 6), T, F),
                      aligning = c('l', rep('c', 2), 'l', 'l'))
```
</details>



<details><summary>Suppl. figure 25: Clevien-Dindo I-II at 30 days after RLDRH vs LADRH</summary>

```{r LADRH_complication1, fig.height=3, fig.width=14, echo=FALSE, message=FALSE, warning=FALSE}
plot <- plotrr_single_studies(words = tcomp1$b,
                      numbers = tcomp1$c,
                      fpPosition = ncol(tcomp1$b),
                      xtick = c(0.2,0.5,1,2,4),
                      sizes = c(rep(NA,3), 1, NA),
                      bolding = c(T, rep(F, 2), T, F),
                      aligning = c('l', rep('c', 2), 'l'))
```
</details>


<details><summary>Suppl. figure 26: Clevien-Dindo complications I-II at 30 days after RLDRH vs ODRH</summary>

```{r ODRH_complication1, fig.height=3, fig.width=15, echo=FALSE, message=FALSE, warning=FALSE}
plot <- plotrr_single_studies(words = tcomp3$b,
                      numbers = tcomp3$c,
                      fpPosition = ncol(tcomp3$b),
                      xtick = c(0.12,0.25,0.5,1,2,4,8),
                      sizes = c(rep(NA,3), 0.008*(comp3_rr$pre$weights+50), NA, 1, NA),
                      bolding = c(T, rep(F, 6), T, F),
                      aligning = c('l', rep('c', 2), 'l', 'l'))
```
</details>


<details><summary>Suppl. figure 27: Clevien-Dindo III-IV at 30 days after RLDRH vs LADRH</summary>

```{r LADRH_complication2, fig.height=3, fig.width=14, echo=FALSE, message=FALSE, warning=FALSE}
plot <- plotrr_single_studies(words = tcomp2$b,
                      numbers = tcomp2$c,
                      fpPosition = ncol(tcomp2$b),
                      xtick = c(0.06, 0.25,0.5,1,2,4, 16),
                      sizes = c(rep(NA,3), 1, NA),
                      bolding = c(T, rep(F, 2), T, F),
                      aligning = c('l', rep('c', 2), 'l'))
```
</details>


<details><summary>Suppl. figure 28: Clevien-Dindo III-IV at 30 days after RLDRH vs ODRH</summary>

```{r ODRH_complication2, fig.height=3, fig.width=15, echo=FALSE, message=FALSE, warning=FALSE}
plot <- plotrr_single_studies(words = tcomp4$b,
                      numbers = tcomp4$c,
                      fpPosition = ncol(tcomp4$b),
                      xtick = c(0.06,0.25,1,4,16),
                      sizes = c(rep(NA,3), 0.008*(comp4_rr$pre$weights+50), NA, 1, NA),
                      bolding = c(T, rep(F, 6), T, F),
                      aligning = c('l', rep('c', 2), 'l', 'l'))
```
</details>


<details><summary>Suppl. figure 29: Clevien-Dindo I-II at 30 days after RLDRH vs LADRH</summary>

```{r complciationsI_LADRH_recipient,  fig.height=3, fig.width=13, echo=FALSE, message=FALSE, warning=FALSE}
plot <- plotrr_single_studies(words = tcomplications3$b,
                      numbers = tcomplications3$c,
                      fpPosition = ncol(tcomplications3$b),
                      xtick = c( 0.25,0.5,1,2,4),
                      sizes = c(rep(NA,3), 1, NA),
                      bolding = c(T, rep(F, 2), T, F),
                      aligning = c('l', rep('c', 2), 'l'))
```


</details>


<details><summary>Suppl. figure 30: Clevien-Dindo I-II at 30 days after RLDRH vs ODRH</summary>

```{r complicationsI_ODRH_recipient,  fig.height=3, fig.width=15, echo=FALSE, message=FALSE, warning=FALSE}
plot <- plotrr_single_studies(words = tcomplications4$b,
                      numbers = tcomplications4$c,
                      fpPosition = ncol(tcomplications4$b),
                      xtick = c( 0.12,0.25,0.5,1,2,4, 8),
                      sizes = c(rep(NA,3), 0.005*(complications4_rr$pre$weights+50), NA, 1, NA),
                      bolding = c(T, rep(F, 6), T, F),
                      aligning = c('l', rep('c', 2), 'l', 'l'))
```
</details>


<details><summary>Suppl. figure 31: Clevien-Dindo III-IV at 30 days after RLDRH VS LADRH</summary>

```{r complicationsIII_LADRH_recipient,  fig.height=3, fig.width=13, echo=FALSE, message=FALSE, warning=FALSE}
plot <- plotrr_single_studies(words = tcomplications5$b,
                      numbers = tcomplications5$c,
                      fpPosition = ncol(tcomplications5$b),
                      xtick = c( 0.25,0.5,1,2,4),
                      sizes = c(rep(NA,3), 1, NA),
                      bolding = c(T, rep(F, 2), T, F),
                      aligning = c('l', rep('c', 2), 'l'))
```


</details>

<details><summary>Suppl. figure 32: Clevien-Dindo III-IV at 30 days after RLDRH vs ODRH</summary>

```{r complicationsIII_ODRH_recipient,  fig.height=3, fig.width=15, echo=FALSE, message=FALSE, warning=FALSE}
plot <- plotrr_single_studies(words = tcomplications6$b,
                      numbers = tcomplications6$c,
                      fpPosition = ncol(tcomplications6$b),
                      xtick = c( 0.12,0.25,0.5,1,2,4, 8),
                      sizes = c(rep(NA,3), 0.005*(complications6_rr$pre$weights+50), NA, 1, NA),
                      bolding = c(T, rep(F, 6), T, F),
                      aligning = c('l', rep('c', 2), 'l', 'l'))
```
</details>